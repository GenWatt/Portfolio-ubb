import{a7 as g,b,G as f,T as j,u as v,r as n,dj as E,j as e,da as w}from"./index-BYJTahc4.js";import{u as y,o as T,a as R,C}from"./react-three-fiber.esm-ChW60S8m.js";import{a as k}from"./AbilityBadges-I4oetDw6.js";import{H}from"./Html-OXnmIEbD.js";import{C as M,O as I}from"./CanvasWrapper-Dt-RYKw5.js";import{E as W}from"./Environment-BqevDUZB.js";import{u as L}from"./useData-DCXmcyx3.js";import{S as z}from"./Slider--CZv3DQt.js";import"./useMediaQuery-BZnfSwYM.js";import"./Chip-DMw_12dU.js";import"./index-Dbf2ioDf.js";const P=g(b(f))(({theme:t})=>({position:"relative",borderRadius:t.shape.borderRadius*2,overflow:"hidden",width:300,cursor:"pointer",transition:t.transitions.create(["transform","box-shadow"],{duration:t.transitions.duration.shorter}),"&:hover":{boxShadow:t.shadows[6]},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-1,background:`linear-gradient(${t.palette.background.default}, ${t.palette.primary.dark})`,opacity:.7}})),_=g("div")(({theme:t})=>({position:"relative",width:100,height:100,margin:"0 auto","&::after":{content:'""',position:"absolute",top:"-5%",left:"-5%",right:"-5%",bottom:"-5%",borderRadius:"50%",background:`radial-gradient(circle at 50% 50%, ${t.palette.primary.main} 0%, transparent 70%)`,opacity:0,transition:t.transitions.create("opacity")},"&:hover::after":{opacity:.3}}));g(j)(({theme:t})=>({fontWeight:700,letterSpacing:1,background:`linear-gradient(45deg, ${t.palette.primary.main} 0%, ${t.palette.secondary.main} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:t.typography.h6.fontSize}));g("div")({display:"flex",justifyContent:"center",gap:4});function D({tech:t,onItemEnter:s}){const a=v(),[r,c]=n.useState(!1),[i]=E(()=>({transform:r?"translateY(-8px)":"translateY(0)",config:{tension:300,friction:10}})),d=u=>{c(u),s(u)};return e.jsxs(P,{container:!0,item:!0,lg:12,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),style:i,sx:{p:4,m:2,minHeight:240,flexDirection:"column",alignItems:"center",justifyContent:"space-between"},children:[t.image&&e.jsx(_,{children:e.jsx("img",{src:t.image,alt:t.name,style:{width:"100%",height:"100%",objectFit:"contain",filter:r?"drop-shadow(0 0 8px rgba(255,255,255,0.4))":"none",transition:a.transitions.create("filter")}})}),e.jsx(j,{variant:"body2",align:"center",sx:{my:2,minHeight:40},children:t.description}),e.jsx(k,{data:t})]})}function $({tech:t,index:s,positions:a,radius:r,onItemEnter:c}){const i=n.useRef(null);y(({clock:o})=>{i.current&&(i.current.rotation.x=Math.sin(o.getElapsedTime()/2),i.current.rotation.y=Math.sin(o.getElapsedTime()/2))});const[d,u]=n.useState(),[p,h]=n.useState(!0);return n.useEffect(()=>{const o=new T;if(!t.image){h(!1);return}o.load(t.image,l=>{u(l),h(!1)})},[t.image]),p?null:e.jsxs("group",{ref:i,position:a[s],children:[e.jsxs("mesh",{position:[-2,0,0],rotation:[1.1,0,1.5],children:[e.jsx("sphereGeometry",{args:[r/9,32,32]}),e.jsx("meshStandardMaterial",{map:d,transparent:!0,opacity:1})]}),e.jsx("mesh",{children:e.jsx(H,{position:[0,0,.01],children:e.jsx(D,{tech:t,onItemEnter:c})})})]},s)}function A({techStack:t,speed:s=.001}){const a=n.useRef(null),[r,c]=n.useState(0),[i,d]=n.useState(!1),{camera:u}=R(),p=()=>{const l=window.innerWidth,S=Math.min(Math.max(l/2,280+50),600);c(S)};n.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[]);const h=t.map((l,m)=>{const x=m/t.length*Math.PI*2;return[Math.cos(x)*r,Math.sin(x)*r,0]}),o=l=>{d(l)};return y(()=>{a.current&&!i&&(a.current.rotation.z+=s)}),n.useEffect(()=>{u.position.set(0,-4,2)},[u]),e.jsx("group",{ref:a,children:t.map((l,m)=>e.jsx($,{tech:l,index:m,positions:h,radius:r,onItemEnter:o},m))})}function F({techStack:t,speed:s,canvasProps:a,containerProps:r}){return e.jsx(M,{...r,children:e.jsxs(C,{...a,style:{zIndex:0},children:[e.jsx("ambientLight",{intensity:1}),e.jsx(W,{preset:"studio",background:!0}),e.jsx(I,{}),e.jsx(A,{techStack:t,speed:s})]})})}const G=1e-4,B=.01,O=1e-4;function nt(){const{viewWidth:t,viewHeight:s}=w(),[a,r]=n.useState(0),[c,i]=n.useState(.001),d=n.useRef(null),{techStack:u}=L(),p=(h,o,l)=>{const m=Array.isArray(o)?o[0]:o;i(m)};return n.useEffect(()=>{r(s-d.current.clientHeight)},[s]),e.jsxs(f,{container:!0,children:[e.jsxs(f,{ref:d,item:!0,xs:12,sm:4,children:[e.jsxs("span",{children:["Speed (",c,")"]}),e.jsx(z,{value:c,onChange:p,min:G,max:B,step:O})]}),e.jsx(f,{container:!0,children:e.jsx(F,{techStack:u,speed:c,containerProps:{style:{height:a,width:t}}})})]})}export{nt as default};
